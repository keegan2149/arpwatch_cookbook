#GENERATED BY CHEF DO NOT EDIT!
#
# /etc/arpwatch.conf: Debian-specific way to watch multiple interfaces.
# Format of this configuration file is:
#
#<dev1>	<arpwatch options for dev1>
#<dev2>	<arpwatch options for dev2>
#...
#<devN>	<arpwatch options for devN>
#
# You can set global options for all interfaces by editing
# /etc/default/arpwatch

<% @interfaces.keys.each do |current| -%>
  <% unless @data_dir == '' -%>
    <% @data_dir = "-f #{@data_dir}#{current}.dat"-%>
  <%else -%>
    <% @data_dir = '' -%>
  <%end -%>  
  <% unless @interfaces[current]['additional_networks'] == '' -%>
    <% @additional_networks = "-n #{@interfaces[current]['additional_networks']}"-%>
  <%else -%>
    <% @additional_networks = ''-%>
  <% end -%>
  <% unless @interfaces[current]['ignored_range'] == '' -%>
    <% @ignored_range = "-z #{@interfaces[current]['ignored_range']}"-%>
  <%else -%>
    <% @ignored_range = ''-%>
  <% end -%>
  <% unless @interfaces[current]['bogons'] == '' -%>
    <% @bogons = '-N' %>
  <%else -%>
    <% @bogons = ''-%>
  <% end -%>
  <% unless @interfaces[current]['recipient_email'] == '' -%>
    <% @recipient_email = "-m #{@interfaces[current]['recipient_email']}"-%>
  <%else -%>
    <% @recipient_email = ''-%>
  <% end -%>
  <% unless @interfaces[current]['send_email'] -%>
    <% @send_email = '-Q'-%>
    <% @recipient_email = ''-%>
  <%else -%>
    <% @send_mail = ''-%>
  <% end -%>
  <% unless @interfaces[current]['user'] == '' -%>
    <% @user = "-u #{@interfaces[current]['user']}"-%>
  <%else -%>
    <% @user = ''-%>
  <% end -%>
  <% unless @interfaces[current]['bounce_wait'] == '' || @interfaces[current]['bounce_wait'] == '0' -%>
    <% @bounce_wait = "-R #{@interfaces[current]['bounce_wait']}"-%>
  <%else -%>
    <% @user = ''-%>
  <% end -%>
<%= current %> <%= @additional_networks %> <%= @ignored_range %> <%= @bogons %> <%= @recipient_email %> <%= @send_email %> <%= @user %> <%= @bounce_wait %> <%= @data_dir %> 
<% end -%>
